<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BOLT 1.40</title>
  <link rel="icon" href="assets/boltlogo.ico" type="image/x-icon" />
  <style>
    :root{
      /* color tokens */
      --red-500: #ff4b4b;
      --auth-gray: #9aa0a6;
      --accent: #1e90ff;
      --sky: #38bdf8;
      --bg-light: #f6fbff;
      --panel-light: #ffffff;
      --text-dark: #0b2a3a;
      --muted: #6b7c86;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 10px 35px rgba(12,18,24,0.08);
      --radius: 14px;
    }

    /* dark theme tokens (applied with .dark on <html>) */
    html.dark {
      --bg-light: #071227;
      --panel-light: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      --text-dark: #e6f7ff;
      --muted: #9aa6b2;
      --glass: rgba(255,255,255,0.03);
      --shadow: 0 10px 35px rgba(0,0,0,0.6);
    }

    /* Reset + body */
    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    body {
      background: radial-gradient(800px 400px at 10% 8%, rgba(56,189,248,0.06), transparent),
                  linear-gradient(180deg,var(--bg-light), rgba(236,249,255,0));
      color:var(--text-dark);
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:28px;
    }

    /* Container centered */
    .container {
      width:100%;
      max-width:860px;
      text-align:center;
    }

    /* Card */
    .card {
      border-radius:var(--radius);
      background: var(--panel-light);
      box-shadow: var(--shadow);
      padding:34px;
      display:flex;
      gap:28px;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      transition:transform .18s ease, box-shadow .18s ease;
    }

    .card:hover { transform: translateY(-6px); box-shadow: 0 20px 50px rgba(12,18,24,0.12); }

    /* Logo */
    .logo {
      width:120px;
      height:120px;
      border-radius:20px;
      background-image: url('assets/boltlogo.ico');
      background-size:cover;
      background-position:center;
      margin:0 auto 14px;
      box-shadow: 0 12px 30px rgba(30,144,255,0.08);
      transform-origin:center;
      animation: float 4s ease-in-out infinite;
    }
    @keyframes float {
      0% { transform: translateY(0) rotate(-1deg); }
      50% { transform: translateY(-8px) rotate(1.2deg); }
      100% { transform: translateY(0) rotate(-1deg); }
    }

    h1 {
      margin:6px 0 6px;
      font-size:34px;
      letter-spacing:0.6px;
      font-weight:700;
    }

    .subtitle {
      margin:0 0 20px;
      color:var(--muted);
      font-size:15px;
      max-width:780px;
    }

    /* Actions */
    .actions { display:flex; gap:12px; align-items:center; justify-content:center; margin-top:6px; }

    .btn {
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 18px;
      border-radius:12px;
      font-weight:700;
      font-size:15px;
      cursor:pointer;
      text-decoration:none;
      border:0;
      transition: transform .12s cubic-bezier(.2,.9,.2,1), box-shadow .12s;
      user-select:none;
    }

    .btn-primary {
      background: linear-gradient(180deg,var(--sky), var(--accent));
      color:white;
      box-shadow: 0 8px 26px rgba(30,144,255,0.14);
    }

    .btn-outline {
      background:transparent;
      color:var(--text-dark);
      border:1px solid rgba(0,0,0,0.06);
      padding:10px 14px;
      border-radius:10px;
    }

    .btn-primary:active { transform:translateY(1px); }
    .btn-primary:hover { transform: translateY(-3px); }

    /* Modal overlay */
    .overlay {
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(8,15,20,0.45);
      z-index:1400;
      padding:20px;
    }
    .overlay.show { display:flex; }

    .modal {
      width:100%;
      max-width:520px;
      background: linear-gradient(180deg,#ffffff,#fbfeff);
      border-radius:12px;
      padding:18px;
      box-shadow: 0 22px 70px rgba(10,20,30,0.18);
      text-align:left;
      border:1px solid rgba(14,56,88,0.04);
    }
    .modal h3 { margin:0 0 8px; font-size:18px; color:var(--text-dark); }
    .modal p { margin:0 0 14px; color:var(--muted); font-size:13px; }

    .asset {
      background: rgba(56,189,248,0.04);
      padding:10px 12px;
      border-radius:8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size:13px;
      color:var(--text-dark);
      margin-bottom:14px;
    }

    .modal .controls { display:flex; gap:10px; justify-content:flex-end; align-items:center; }

    /* Thank you state */
    .thanks {
      display:none;
      padding:28px 14px;
      text-align:center;
    }
    .thanks.show { display:block; }
    .thanks h2 { margin:0 0 6px; font-size:26px; color:var(--text-dark); }
    .thanks p { margin:0; color:var(--muted); }

    /* Footer center bottom */
    .footer {
      margin-top:18px;
      text-align:center;
      font-size:13px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      flex-direction:column;
    }

    .madeby {
      padding:6px 12px;
      border-radius:999px;
      font-weight:700;
      cursor:pointer;
      background: linear-gradient(90deg, var(--red-500), var(--auth-gray));
      color:#fff;
      font-size:12px;
      display:inline-block;
      text-decoration:none;
    }

    .support {
      color:var(--muted);
      font-size:13px;
    }

    /* theme toggle corner */
    .theme-toggle {
      position:fixed;
      top:18px;
      right:18px;
      background:var(--panel-light);
      border-radius:999px;
      box-shadow: var(--shadow);
      padding:8px;
      display:flex;
      align-items:center;
      justify-content:center;
      width:46px;
      height:46px;
      cursor:pointer;
      border:1px solid rgba(0,0,0,0.04);
      z-index:1500;
    }
    .theme-toggle svg { width:20px; height:20px; display:block; }

    /* center everything for small screens */
    @media (max-width:680px){
      .card { padding:22px; }
      h1 { font-size:26px; }
      .logo { width:96px; height:96px; border-radius:14px; }
    }
  </style>
</head>
<body>
  <!-- theme toggle -->
  <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme" title="Toggle theme">
    <!-- icon will be swapped by JS -->
    <svg id="themeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
    </svg>
  </button>

  <div class="container" role="main" aria-labelledby="title">
    <div class="card" id="mainCard" role="region" aria-label="Bolt download panel">
      <div class="logo" aria-hidden="true"></div>

      <h1 id="title">BOLT 1.40</h1>
      <p class="subtitle">Official installer. fast,secure and powerful .</p>

      <div class="actions" role="group" aria-label="Download actions">
        <button id="openDownload" class="btn btn-primary" aria-haspopup="dialog" aria-controls="downloadModal">
          <!-- white text on sky/blue -->
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 3v12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 11l4 4 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 21H3" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Download
        </button>
      </div>

      <div class="footer" aria-hidden="true">
        <a id="madeBy" class="madeby" href="https://swifteexstudio.github.io/Swifteex/" target="_blank" rel="noopener noreferrer">made by Swifteex Studio</a>
        <div class="support">Support: <a href="mailto:swifteexstudio@gmail.com" class="support" style="text-decoration:none;color:inherit;">swifteexstudio@gmail.com</a></div>
      </div>
    </div>

    <!-- Thank you view (hidden) -->
    <div id="thanks" class="thanks" aria-live="polite">
      <h2>Thank you for downloading!</h2>
      <p class="muted">Your download has started.We appreciate you. If you need help, email <a href="mailto:swifteexstudio@gmail.com">swifteexstudio@gmail.com</a>.</p>
    </div>
  </div>

  <!-- Modal overlay (simple confirmation, no extra text) -->
  <div id="downloadModal" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <h3 id="modalTitle">download BOLT</h3>
      <p class="muted">Begin the official installer download.</p>

      <div class="asset">boltsetupmanager.exe</div>

      <div class="controls" style="margin-top:6px;">
        <button id="cancel" class="btn btn-outline">Cancel</button>

        <!-- final download anchor: normal link (no visible GitHub references on page) -->
        <a id="final" class="btn btn-primary"
           href="https://github.com/SwifteexStudio/Swifteex/releases/download/BOLT/boltsetupmanager.exe"
           target="_blank" rel="noopener noreferrer" aria-label="Download installer">
          Download
        </a>
      </div>
    </div>
  </div>

  <script>
    (function(){
      // Elements
      const openBtn = document.getElementById('openDownload');
      const overlay = document.getElementById('downloadModal');
      const cancelBtn = document.getElementById('cancel');
      const finalLink = document.getElementById('final');
      const thanks = document.getElementById('thanks');
      const mainCard = document.getElementById('mainCard');
      const FLAG = 'bolt_1_40_started_v2';

      // Theme toggle logic
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = document.getElementById('themeIcon');
      const htmlEl = document.documentElement;
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

      function applyTheme(theme) {
        if (theme === 'dark') {
          htmlEl.classList.add('dark');
          // moon icon
          themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>';
        } else {
          htmlEl.classList.remove('dark');
          // sun icon
          themeIcon.innerHTML = '<circle cx="12" cy="12" r="4"></circle><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"></path>';
        }
      }

      // initialize theme from localStorage or system
      const saved = localStorage.getItem('ui_theme_pref_v1');
      if (saved) applyTheme(saved);
      else applyTheme(prefersDark ? 'dark' : 'light');

      themeToggle.addEventListener('click', () => {
        const current = htmlEl.classList.contains('dark') ? 'dark' : 'light';
        const next = current === 'dark' ? 'light' : 'dark';
        applyTheme(next);
        try { localStorage.setItem('ui_theme_pref_v1', next); } catch(e) {}
      });

      // open modal
      openBtn.addEventListener('click', () => {
        overlay.classList.add('show');
        overlay.setAttribute('aria-hidden', 'false');
        finalLink.focus();
      });

      // cancel
      cancelBtn.addEventListener('click', () => {
        overlay.classList.remove('show');
        overlay.setAttribute('aria-hidden', 'true');
        openBtn.focus();
      });

      // final download clicked
      finalLink.addEventListener('click', () => {
        try { localStorage.setItem(FLAG, Date.now().toString()); } catch(e) {}
        // close modal
        overlay.classList.remove('show');
        overlay.setAttribute('aria-hidden', 'true');

        // show thanks view locally after a short delay (user will get download in new tab/window)
        setTimeout(() => {
          try {
            mainCard.style.display = 'none';
            thanks.classList.add('show');
          } catch(e) {}
        }, 600);
      });

      // on load, if flag present, show thank-you (handles reloads)
      window.addEventListener('DOMContentLoaded', () => {
        try {
          if (localStorage.getItem(FLAG)) {
            localStorage.removeItem(FLAG);
            mainCard.style.display = 'none';
            thanks.classList.add('show');
          }
        } catch(e) {}
      });

      // close modal on ESC
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && overlay.classList.contains('show')) {
          overlay.classList.remove('show');
          overlay.setAttribute('aria-hidden', 'true');
          openBtn.focus();
        }
      });

      // click outside to close
      overlay.addEventListener('click', (ev) => {
        if (ev.target === overlay) {
          overlay.classList.remove('show');
          overlay.setAttribute('aria-hidden', 'true');
        }
      });

      // footer madeby click handled by normal link (opens new tab). no extra logic needed.
    })();
  </script>
</body>
</html>
